(this["webpackJsonppending-tasks"]=this["webpackJsonppending-tasks"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(9),s=n.n(r),i=(n(13),n(6)),o=n(8),j=n(2),d=(n(14),n(15),n.p+"static/media/add.a0162b51.png"),u=n(3),l=n(0),b=function(e){var t=Object(c.useState)("form-hide"),n=Object(j.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(0),o=Object(j.a)(i,2),b=o[0],m=o[1],h=Object(u.createRef)(),O=Object(u.createRef)(),f=Object(u.createRef)(),x=Object(u.createRef)();Object(c.useEffect)((function(){m(e.IDUser)}),[e.IDUser]);return Object(l.jsx)(a.a.Fragment,{children:Object(l.jsxs)("section",{id:"newtask-section",children:[Object(l.jsx)("p",{onClick:function(){s("form-hide"===r?function(e){return"form-show"}:function(e){return"form-hide"})},children:"Add New Task"}),Object(l.jsxs)("form",{action:"",id:"task-form",className:r,onSubmit:function(e){var t,n,c={taskName:String(h.current.value),shortDesc:String(x.current.value),startingTime:String(O.current.value),etc:Number(f.current.value),actualStatus:"needs to be implemented"};(t="https://62423aacb6734894c14e7f14.mockapi.io/users/".concat(b,"/cards"),n=JSON.stringify(c),fetch(t,{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){return console.log(e)}))).then((function(e){e.ok&&alert("Tarea creada con \xe9xito!")})),e.preventDefault()},children:[Object(l.jsx)("label",{htmlFor:"taskname",children:"Task Name:"}),Object(l.jsx)("input",{type:"text",name:"taskname",id:"taskname-id",tabIndex:"1",required:"required",minLength:"1",maxLength:"50",placeholder:"Take out the dog",ref:h}),Object(l.jsx)("label",{htmlFor:"taskdate",children:"Starts:"}),Object(l.jsx)("input",{type:"datetime-local",name:"taskdate",id:"tasktime-id",tabIndex:"2",required:"required",ref:O}),Object(l.jsx)("label",{htmlFor:"tasktime",children:"ETC:"}),Object(l.jsx)("input",{type:"text",name:"tasktime",id:"tasktime-id",tabIndex:"3",required:"required",ref:f,placeholder:"10"}),Object(l.jsx)("label",{htmlFor:"tasktime-id",children:"Mins"}),Object(l.jsx)("button",{children:Object(l.jsx)("img",{src:d,alt:"Add New Task",tabIndex:"5"})})," ",Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"taskdesc",id:"textarea-label",children:"Short Description:"}),Object(l.jsx)("textarea",{name:"taskdesc",id:"taskdesc-id",cols:"70",rows:"4",tabIndex:"4",maxLength:"250",placeholder:"Get my water bottle. Make sure to have the food in the bag. Don't forget...",ref:x})]})]})})},m=(n(17),function(e){var t=Object(c.useState)(e),n=Object(j.a)(t,2);n[0],n[1];return Object(l.jsx)(a.a.Fragment,{children:Object(l.jsxs)("section",{id:"nexttasksection-id",children:[Object(l.jsx)("h2",{children:e.categorytitle}),e.task]})})}),h=(n(18),function(e){return Object(l.jsx)(a.a.Fragment,{children:Object(l.jsxs)("article",{id:"taskarticle-id",children:[Object(l.jsx)("p",{children:e.taskname}),Object(l.jsx)("br",{})," ",Object(l.jsx)("p",{children:e.tasktime}),"  ",Object(l.jsxs)("p",{children:["ETC: ",e.tasketc]}),"  ",Object(l.jsx)("p",{children:"Remaining Time: 0"}),"  ",Object(l.jsx)("p",{children:e.taskdesc}),"  "]})})}),O=(n(19),function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("The error was: ".concat(e))}))}),f=function(e,t){t.sendUsername;var n=Object(c.useState)(),r=Object(j.a)(n,2),s=r[0],i=r[1],o=Object(u.createRef)();return Object(l.jsx)(a.a.Fragment,{children:Object(l.jsxs)("section",{id:"usermodalsection-id",children:[Object(l.jsxs)("form",{id:"currentuser-id",onSubmit:function(t){t.preventDefault(),O("https://62423aacb6734894c14e7f14.mockapi.io/users?correo=".concat(s)).then((function(n){0!==Object.keys(n).length?(e.HandleShowModal(),e.sendUsername(n)):(alert("Usuario no registrado :("),t.preventDefault())}))},children:[Object(l.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(l.jsx)("input",{type:"text",name:"username",id:"username-id",required:"required",minLength:"8",maxLength:"50",ref:o,value:"rbarbieriperez@gmail.com"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("button",{id:"accessbutton-id",onClick:function(){i(o.current.value)},children:"Access"})]}),Object(l.jsxs)("form",{action:"",id:"newuser-id",children:[Object(l.jsx)("label",{htmlFor:"newusername",children:"New Username:"}),Object(l.jsx)("input",{type:"text",name:"newusername",id:"newusername-id",required:"required",minLength:"8",maxLength:"20"})," ",Object(l.jsx)("br",{}),Object(l.jsx)("button",{id:"registerbutton-id",children:"Register"})]})]})})},x=function(e){var t=Object(c.useState)(!0),n=Object(j.a)(t,2),r=n[0],s=n[1],d=Object(c.useState)(""),u=Object(j.a)(d,2),x=u[0],k=u[1],g=Object(c.useState)(0),p=Object(j.a)(g,2),T=p[0],S=p[1],v=Object(c.useState)([]),y=Object(j.a)(v,2),w=y[0],F=y[1],N=Object(c.useState)([]),D=Object(j.a)(N,2),I=D[0],q=D[1],A=Object(c.useState)([]),C=Object(j.a)(A,2),L=C[0],U=C[1],M=function(e){var t=new Date,n=t.getHours(),c=t.getMinutes(),a=parseInt(n.toString()+c.toString()),r=0;e.forEach((function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var c=Object(j.a)(n[t],2),s=c[0],i=c[1];if("etc"===s&&(r=i),"startingTime"===s){var o=i.split(" "),d=o[1],u=d.split(":"),l=parseInt(u[0]+u[1]);console.log("ArraySplitted tiene ".concat(o," - ArrayTaskTimeFullFormatString tiene ").concat(d," - ArrayTaskTimeArray tiene ").concat(u," - TaskTimeInNumber tiene ").concat(l)),R(o[0])||l>a+r?E(e):l+r>=a&&l<=a+r?J(e):l<a&&H(e)}}}))},R=function(e){return e>(new Date).toISOString().split("T")[0]},E=function(e){q((function(t){return[].concat(Object(i.a)(t),[Object(l.jsx)(h,{taskname:e.taskName,tasktime:e.startingTime,tasketc:e.etc,taskdesc:e.shortDesc})])})),console.log("The task is next")},J=function(e){F((function(t){return[].concat(Object(i.a)(t),[Object(l.jsx)(h,{taskname:e.taskName,tasktime:e.startingTime,tasketc:e.etc,taskdesc:e.shortDesc})])})),console.log("The task is Actual")},H=function(e){U((function(t){return[].concat(Object(i.a)(t),[Object(l.jsx)(h,{taskname:e.taskName,tasktime:e.startingTime,tasketc:e.etc,taskdesc:e.shortDesc})])})),console.log("The task expired")};return!0===r?Object(l.jsx)(f,{HandleShowModal:function(){s(!1)},sendUsername:function(e){var t,n=[],c=Object(o.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;k(a.nombre+" "+a.apellidos),S(a.id),O("https://62423aacb6734894c14e7f14.mockapi.io/users/".concat(a.id,"/cards")).then((function(e){var t,c=Object(o.a)(e);try{for(c.s();!(t=c.n()).done;){var a=t.value;if(""!==a.taskName&&""!==a.startingTime){var r={actualStatus:a.actualStatus,cardId:a.cardId,etc:a.etc,shortDesc:a.shortDesc,startingTime:a.startingTime,taskName:a.taskName};console.log("cardTemplate tiene: ".concat(JSON.stringify(r))),n.push(r)}}}catch(s){c.e(s)}finally{c.f()}console.log("userCards tiene ".concat(JSON.stringify(n))),M(n)}))}}catch(r){c.e(r)}finally{c.f()}}}):Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsxs)("header",{children:[Object(l.jsx)("h1",{children:"Task Manager"}),Object(l.jsx)("p",{children:"Welcome: "+x})]}),Object(l.jsxs)("main",{children:[Object(l.jsx)(b,{IDUser:T}),Object(l.jsx)(m,{categorytitle:"Next Tasks",task:I}),Object(l.jsx)(m,{categorytitle:"Actual Tasks",task:w}),Object(l.jsx)(m,{categorytitle:"Expired Tasks",task:L})]})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root")),k()}],[[20,1,2]]]);
//# sourceMappingURL=main.229831b1.chunk.js.map